function mirrorText(){let e=document.getElementsByClassName("jdGbV");$((function(){e[0].style.transform="scale(-1, 1)"}))}class Observer{#e=null;#t=null;#i=JSON.parse(localStorage.getItem("ignoreList"))||[];#s=null;#o=!1;#r=document.querySelector(".pm-toolbar__button__inner_avatar").href;#n=null;run(){this.#l({interval:1e3}),this.#a()}#l({interval:e}){setInterval((()=>{this.#c(),this.#h(),this.#d()}),e)}#a(){this.#u().onclick=()=>{this.#n=this.#m({width:400,height:300}),this.#o=!1,this.#n.document.body.insertAdjacentHTML("afterbegin",`<h1>BlackList (${this.#i.length})</h1>`),this.#L(),this.#n.onbeforeunload=()=>{this.#o&&location.reload()},this.#p(),this.#g()}}#h(){this.#e=document.querySelectorAll(".O7e15"),this.#e&&this.#f(this.#e)}#d(){this.#t=document.querySelectorAll(".fUImZ"),this.#t&&this.#f(this.#t)}#c(){this.#s=document.querySelectorAll("div.HPxqQ"),this.#s&&this.#y(this.#s)}#y(e){if(e)for(let t of e){t.style.position="relative";let e=t.querySelector("a.ieH_k");if(!e.dataLoaded){e.href+="/";let i=document.createElement("a");i.style.position="absolute",i.style.left=0,i.style.top=0,i.innerText="Ignore",i.style.fontSize="0.7rem",i.style.color="#6bd089",i.style.opacity=.6,i.href="#",i.addEventListener("click",(()=>{this.#b(e)})),e.href!==this.#r&&t.append(i),e.dataLoaded=!0}this.#i.forEach((i=>{e.href.includes(i.url)&&t.remove()}))}}#f(e){for(let t of e){let e=t.querySelector("._yoNC");if(!e.dataLoaded){let t=document.createElement("a");t.innerText="[ Ignore ]",t.href="#",t.style.color="#6bd089",t.style.opacity=.6,t.addEventListener("click",(()=>{this.#b(e)})),e.href!==this.#r&&e.append(t),e.dataLoaded=!0}this.#i.forEach((i=>{e.href.includes(i.url)&&t.remove()}))}}#b(e){this.#i.push({url:e.href,name:e.innerText.split("[ Ignore ]")[0]}),localStorage.setItem("ignoreList",JSON.stringify(this.#i))}#w(e){this.#i=this.#i.filter((t=>t.url!==e.url)),localStorage.setItem("ignoreList",JSON.stringify(this.#i))}#m({width:e,height:t}){return window.open("about:blank","Moderator Service",`width=${e},height=${t}`)}#u(){let e=document.createElement("button");return e.innerText="Black List",e.style.width="150px",e.style.height="50px",e.style.position="fixed",e.style.left=0,e.style.bottom="10px",e.style.zIndex=999999,e.style.border="1px dashed green",e.onmouseover=()=>{e.style.cursor="pointer"},document.body.append(e),e}#L(){let e=this.#n.document.createElement("ol"),t=this.#n.document.body.querySelector("ol");null!==t?t.replaceWith(e):this.#n.document.body.append(e),this.#i.forEach((t=>{let i=this.#n.document.createElement("li"),s=this.#n.document.createElement("a"),o=this.#n.document.createElement("a");o.innerText="[ Remove ]",s.innerText="[ Profile ]",s.href=t.url,o.onmouseover=()=>{o.style.cursor="pointer"},i.append(t.name,s,o),o.onclick=()=>{this.#w(t),this.#o=!0,i.remove()},e.append(i)}))}#p(){let e=this.#i,t=new Blob([JSON.stringify(e)],{type:"application/json"}),i=document.createElement("a");i.innerText="Download BlackList",i.href=URL.createObjectURL(t),i.download="blackListOtvetiRu.json",this.#n.document.body.append(i)}#g(){let e=document.createElement("input");e.style.display="block",e.style.marginTop="10px",e.type="file",e.accept="application/json";let t=new FileReader;t.onload=()=>{let e=t.result;if(e)try{let t=!1,i=JSON.parse(e);if(i.forEach((({url:e,name:i}={})=>{e&&i||(t=!0)})),t)return void alert("Wrong settings");this.#i=[...i],localStorage.setItem("ignoreList",JSON.stringify(this.#i)),this.#v()}catch(e){alert("File is not a JSON format.")}},e.onchange=e=>{let i=e.target.files[0];t.readAsText(i)},this.#n.document.body.append(e)}#v(){this.#L()}}let observer=new Observer;observer.run();
